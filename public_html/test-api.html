<!DOCTYPE html>
<html>
<head>
    <title>API Test for InfinityFree</title>
</head>
<body>
    <h1>Test InfinityFree API</h1>
    
    <button onclick="testDelete()">Test Delete Question</button>
    <button onclick="testEdit()">Test Edit Question</button>
    <button onclick="testGet()">Test Get Questions</button>
    
    <div id="results"></div>

    <script>
        const API_BASE = '/api';
        
        function log(message) {
            document.getElementById('results').innerHTML += '<p>' + message + '</p>';
        }
        
        async function testGet() {
            try {
                const response = await fetch(`${API_BASE}/admin/questions`);
                const result = await response.json();
                log('GET Test: ' + JSON.stringify(result));
            } catch (error) {
                log('GET Error: ' + error.message);
            }
        }
        
        async function testDelete() {
            try {
                const response = await fetch(`${API_BASE}/admin/questions/1`, {
                    method: 'DELETE',
                    headers: {
                        'Content-Type': 'application/json',
                        'Authorization': 'Bearer your-token-here'
                    }
                });
                const result = await response.json();
                log('DELETE Test: ' + JSON.stringify(result));
            } catch (error) {
                log('DELETE Error: ' + error.message);
            }
        }
        
        async function testEdit() {
            try {
                const response = await fetch(`${API_BASE}/admin/questions/1`, {
                    method: 'PUT',
                    headers: {
                        'Content-Type': 'application/json',
                        'Authorization': 'Bearer your-token-here'
                    },
                    body: JSON.stringify({
                        question_text: 'Test Question',
                        option_a: 'A',
                        option_b: 'B',
                        option_c: 'C',
                        option_d: 'D',
                        correct_answer: 'A',
                        subject_id: 1,
                        class_level: 'SS1',
                        term_id: 1,
                        session_id: 1
                    })
                });
                const result = await response.json();
                log('PUT Test: ' + JSON.stringify(result));
            } catch (error) {
                log('PUT Error: ' + error.message);
            }
        }
    </script>
</body>
</html>